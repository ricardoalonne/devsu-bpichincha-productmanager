"use strict";(self.webpackChunkdevsu_bpichincha_productmanager=self.webpackChunkdevsu_bpichincha_productmanager||[]).push([[822],{7822:(ke,b,u)=>{u.r(b),u.d(b,{ProductModule:()=>Re});var s=u(6814),d=u(7664),e=u(4946),m=u(6409),D=u(1411),_=u(7417),i=u(95),h=u(7073);let q=(()=>{class n{constructor(){this.pageSize=5,this.nextPage=new e.vpe,this.prevPage=new e.vpe,this.pageSizeChanged=new e.vpe,this.paginationInfo="0 - 0 de 0",this.isLastPage=!1}ngOnInit(){}ngOnChanges(o){const r=this.numberPage*this.pageSize+1,t=(this.numberPage+1)*this.pageSize,a=this.total;this.isLastPage=t>=a,this.paginationInfo=`${r>a?0:r} - ${this.isLastPage?a:t} de ${this.total}`}onNextPage(){this.nextPage.emit()}onPrevPage(){this.prevPage.emit()}onPageSizeChanged(){this.pageSizeChanged.emit(this.pageSize)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["table-paginator"]],inputs:{numberPage:"numberPage",total:"total",page:"page",pageSize:"pageSize",currentTotal:"currentTotal"},outputs:{nextPage:"nextPage",prevPage:"prevPage",pageSizeChanged:"pageSizeChanged"},features:[e.TTD],decls:17,vars:4,consts:[[1,"table-paginator","flex","align-items-center","justify-content-between"],[1,"flex","gap-3"],[3,"ngModel","ngModelChange","change"],["value","5"],["value","10"],["value","20"],[1,"flex","gap-2","align-items-center"],[1,"flex","gap-1"],[1,"button-icon","button-transparent",3,"disabled","click"],["iconName","chevron_left"],["iconName","chevron_right"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"select",2),e.NdJ("ngModelChange",function(c){return t.pageSize=c})("change",function(){return t.onPageSizeChanged()}),e.TgZ(3,"option",3),e._uU(4,"5"),e.qZA(),e.TgZ(5,"option",4),e._uU(6,"10"),e.qZA(),e.TgZ(7,"option",5),e._uU(8,"20"),e.qZA()()(),e.TgZ(9,"div",6)(10,"span"),e._uU(11),e.qZA(),e.TgZ(12,"div",7)(13,"button",8),e.NdJ("click",function(){return t.onPrevPage()}),e._UZ(14,"google-icon",9),e.qZA(),e.TgZ(15,"button",8),e.NdJ("click",function(){return t.onNextPage()}),e._UZ(16,"google-icon",10),e.qZA()()()()),2&r&&(e.xp6(2),e.Q6J("ngModel",t.pageSize),e.xp6(9),e.Oqu(t.paginationInfo),e.xp6(2),e.Q6J("disabled",t.page<=0),e.xp6(2),e.Q6J("disabled",0===t.currentTotal||t.isLastPage&&!0===t.isLastPage))},dependencies:[i.YN,i.Kr,i.EJ,i.JJ,i.On,h.J],styles:[".table-paginator[_ngcontent-%COMP%]{padding:.5rem;background-color:#f1f1f1;border-radius:0 0 1rem 1rem}"]})}return n})();const M=["dropdown"];function y(n,l){1&n&&(e.TgZ(0,"span"),e._uU(1,"Men\xfa"),e.qZA())}function w(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Oqu(o.name)}}function A(n,l){if(1&n&&e._UZ(0,"google-icon",6),2&n){const o=e.oxw();e.Q6J("iconName",o.iconName)}}function N(n,l){if(1&n&&e._UZ(0,"google-icon",6),2&n){const o=e.oxw().$implicit;e.Q6J("iconName",o.iconName)}}function U(n,l){if(1&n){const o=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){const a=e.CHM(o).$implicit,c=e.oxw(2);return e.KtG(c.closeDropdown(a))}),e.YNc(1,N,1,1,"google-icon",4),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const o=l.$implicit;e.xp6(1),e.Q6J("ngIf",o.iconName),e.xp6(2),e.Oqu(o.name)}}function I(n,l){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,U,4,2,"button",8),e.qZA()),2&n){const o=e.oxw();e.Q6J("ngClass",o.dropdownContentClass),e.xp6(1),e.Q6J("ngForOf",o.items)}}let E=(()=>{class n{constructor(o,r){this.renderer=o,this.router=r,this.items=[],this.orientation="vertical",this.isDropdownOpen=!1}ngOnInit(){this.renderer.listen("window","click",o=>{this.dropdown&&!this.dropdown.nativeElement.contains(o.target)&&(this.isDropdownOpen=!1)})}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}closeDropdown(o){o.action&&o.action(this.data),o.redirectTo&&this.router.navigate([o.redirectTo]),this.isDropdownOpen=!1}get dropdownClass(){return{"dropdown-active":this.isDropdownOpen}}get dropdownContentClass(){return{"dropdown-content-horizontal":"horizontal"===this.orientation}}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(e.Qsj),e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["dropdown"]],viewQuery:function(r,t){if(1&r&&e.Gf(M,5),2&r){let a;e.iGM(a=e.CRH())&&(t.dropdown=a.first)}},inputs:{name:"name",iconName:"iconName",items:"items",data:"data",orientation:"orientation"},decls:7,vars:5,consts:[[1,"dropdown",3,"ngClass"],["dropdown",""],[1,"dropdown-button",3,"click"],[4,"ngIf"],["class","button-icon",3,"iconName",4,"ngIf"],["class","dropdown-content",3,"ngClass",4,"ngIf"],[1,"button-icon",3,"iconName"],[1,"dropdown-content",3,"ngClass"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0,1)(2,"button",2),e.NdJ("click",function(){return t.toggleDropdown()}),e.YNc(3,y,2,0,"span",3),e.YNc(4,w,2,1,"span",3),e.YNc(5,A,1,1,"google-icon",4),e.qZA(),e.YNc(6,I,2,2,"div",5),e.qZA()),2&r&&(e.Q6J("ngClass",t.dropdownClass),e.xp6(3),e.Q6J("ngIf",!t.name&&!t.iconName),e.xp6(1),e.Q6J("ngIf",t.name),e.xp6(1),e.Q6J("ngIf",t.iconName),e.xp6(1),e.Q6J("ngIf",t.isDropdownOpen))},dependencies:[s.mk,s.sg,s.O5,h.J],styles:[".dropdown[_ngcontent-%COMP%]{display:inline-block}.dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer}.dropdown[_ngcontent-%COMP%]   .dropdown-button[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.05)}.dropdown.dropdown-active[_ngcontent-%COMP%]{position:relative}.dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{right:calc(100% - 10px);top:calc(100% - 40px);position:absolute;background-color:#f9f9f9;border-radius:1rem;min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown[_ngcontent-%COMP%]   .dropdown-content.dropdown-content-horizontal[_ngcontent-%COMP%]{display:flex}.dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;color:#333;width:100%;padding:12px 14px;text-decoration:none;display:flex;align-items:center;gap:.65rem}.dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .dropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#fedc00}@media screen and (max-width: 600px){.dropdown[_ngcontent-%COMP%]   .dropdown-content.dropdown-content-horizontal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%]   .dropdown-content.dropdown-content-horizontal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:.8rem}.dropdown[_ngcontent-%COMP%]   .dropdown-content.dropdown-content-horizontal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%]   .dropdown-content.dropdown-content-horizontal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.dropdown[_ngcontent-%COMP%]   .dropdown-content.dropdown-content-horizontal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%]   .dropdown-content.dropdown-content-horizontal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:block}}"]})}return n})();const O=["modal"];function F(n,l){if(1&n){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",1,2)(3,"div",3)(4,"div",4)(5,"span",5),e._uU(6),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.onCloseModal())}),e._UZ(8,"google-icon",7),e.qZA()(),e.TgZ(9,"div",8)(10,"span",9),e._uU(11),e.qZA()(),e.TgZ(12,"div",10)(13,"button",11),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.onCloseModal())}),e._uU(14),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.onActionModal())}),e._uU(16),e.qZA()()()(),e.BQk()}if(2&n){const o=e.oxw();e.xp6(6),e.Oqu(o.title),e.xp6(5),e.Oqu(o.message),e.xp6(3),e.hij(" ",o.closeButtonLabel," "),e.xp6(2),e.hij(" ",o.actionButtonLabel," ")}}let v=(()=>{class n{constructor(o){this.renderer=o,this.closeButtonLabel="Cancelar",this.action=new e.vpe,this.isOpenModal=!1}ngOnInit(){this.renderer.listen("window","click",o=>{this.modal&&o.target===this.modal.nativeElement&&(this.isOpenModal=!1)})}ngOnDestroy(){this.action.unsubscribe()}onOpenModal(){this.action=new e.vpe,this.isOpenModal=!0}onCloseModal(){this.isOpenModal=!1}onActionModal(){this.action.emit(this.isOpenModal),this.onCloseModal()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(e.Qsj))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["modal-confirm"]],viewQuery:function(r,t){if(1&r&&e.Gf(O,5),2&r){let a;e.iGM(a=e.CRH())&&(t.modal=a.first)}},inputs:{title:"title",message:"message",closeButtonLabel:"closeButtonLabel",actionButtonLabel:"actionButtonLabel"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-confirm"],["modal",""],[1,"modal-confirm-content"],[1,"modal-confirm-header"],[1,"modal-confirm-title"],[1,"close-modal-icon",3,"click"],["iconName","close",1,"button-icon"],[1,"modal-confirm-body"],[1,"modal-body-message"],[1,"modal-confirm-footer"],[1,"close-modal",3,"click"],[1,"action-modal","button-warning",3,"click"]],template:function(r,t){1&r&&e.YNc(0,F,17,4,"ng-container",0),2&r&&e.Q6J("ngIf",t.isOpenModal)},dependencies:[s.O5,h.J],styles:[".modal-confirm[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;padding:16px;background:rgba(0,0,0,.75);display:flex;align-items:center;justify-content:center;overflow-y:auto;z-index:999999999}.modal-confirm[_ngcontent-%COMP%]   .modal-confirm-content[_ngcontent-%COMP%]{width:100%;max-width:400px}.modal-confirm[_ngcontent-%COMP%]   .modal-confirm-content[_ngcontent-%COMP%]   .modal-confirm-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 18px;background:#f3f3f3;border-radius:1rem 1rem 0 0}.modal-confirm[_ngcontent-%COMP%]   .modal-confirm-content[_ngcontent-%COMP%]   .modal-confirm-header[_ngcontent-%COMP%]   .modal-confirm-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.modal-confirm[_ngcontent-%COMP%]   .modal-confirm-content[_ngcontent-%COMP%]   .modal-confirm-header[_ngcontent-%COMP%]   .close-modal-icon[_ngcontent-%COMP%]{background:transparent}.modal-confirm[_ngcontent-%COMP%]   .modal-confirm-content[_ngcontent-%COMP%]   .modal-confirm-header[_ngcontent-%COMP%]   .close-modal-icon[_ngcontent-%COMP%]:enabled:hover{background:#dc2626!important;color:#fff;border-color:#dc2626}.modal-confirm[_ngcontent-%COMP%]   .modal-confirm-content[_ngcontent-%COMP%]   .modal-confirm-body[_ngcontent-%COMP%]{font-size:16px;padding:24px;background:#fff}.modal-confirm[_ngcontent-%COMP%]   .modal-confirm-content[_ngcontent-%COMP%]   .modal-confirm-footer[_ngcontent-%COMP%]{background:#fff;padding:8px;border-radius:0 0 1rem 1rem;display:flex;justify-content:space-between}"]})}return n})();var Z=u(5418);let J=(()=>{class n{transform(o,r=0,t=5,a=""){return 0===a.length?o.slice(r,r+t):o.filter(Se=>(0,Z.RR)(Se,a)).slice(r,r+t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=e.Yjl({name:"productFilter",type:n,pure:!0})}return n})();const R=["modalConfirm"],S=["class","grid"];function k(n,l){if(1&n){const o=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.onClearSearchProduct())}),e._UZ(1,"google-icon",16),e.qZA()}}const L=function(){return{width:"75px"}};function Q(n,l){if(1&n&&(e.TgZ(0,"tr")(1,"td",19),e._UZ(2,"img",20),e.qZA(),e.TgZ(3,"td",21),e._uU(4),e.qZA(),e.TgZ(5,"td",22),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td",23),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td",24),e._UZ(12,"dropdown",25),e.qZA()()),2&n){const o=l.$implicit,r=e.oxw(2);e.xp6(2),e.Q6J("src",o.logo,e.LSH)("alt",o.name)("ngStyle",e.DdM(16,L)),e.xp6(2),e.Oqu(o.name),e.xp6(2),e.hij(" ",e.Dn7(7,8,o.dateRelease,"dd/MM/yyyy","+0000")," "),e.xp6(3),e.hij(" ",e.Dn7(10,12,o.dateRevision,"dd/MM/yyyy","+0000")," "),e.xp6(3),e.Q6J("items",r.items)("data",o)}}function Y(n,l){1&n&&(e.TgZ(0,"tr")(1,"td",26),e._uU(2," Sin productos para mostrar. "),e.TgZ(3,"a",27),e._uU(4,"Agregue"),e.qZA(),e._uU(5," productos y vuelva aqu\xed. "),e.qZA()())}function x(n,l){1&n&&(e.TgZ(0,"tr")(1,"td",26),e._uU(2," No se encontraron resultados con esta coincidencia. Int\xe9ntelo de nuevo. "),e.qZA()())}function G(n,l){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,Q,13,17,"tr",17),e.ALo(2,"productFilter"),e.YNc(3,Y,6,0,"tr",18),e.YNc(4,x,3,0,"tr",18),e.ALo(5,"productFilter"),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.gM2(2,3,o.products,o.page,o.pageSize,o.search)),e.xp6(2),e.Q6J("ngIf",0===o.products.length),e.xp6(1),e.Q6J("ngIf",o.products.length>0&&0===e.gM2(5,8,o.products,o.page,o.pageSize,o.search).length)}}function z(n,l){1&n&&(e.TgZ(0,"tr")(1,"td",19),e._UZ(2,"div",28),e.qZA(),e.TgZ(3,"td",21),e._UZ(4,"div",28),e.qZA(),e.TgZ(5,"td",29),e._UZ(6,"div",28),e.qZA(),e.TgZ(7,"td",30),e._UZ(8,"div",28),e.qZA(),e.TgZ(9,"td",24),e._UZ(10,"div",28),e.qZA()())}const j=function(){return[]};function V(n,l){1&n&&e.YNc(0,z,11,0,"tr",17),2&n&&e.Q6J("ngForOf",e.DdM(1,j).constructor(12))}function $(n,l){if(1&n){const o=e.EpF();e.TgZ(0,"table-paginator",31),e.NdJ("nextPage",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.onNextPage())})("prevPage",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.onPrevPage())})("pageSizeChanged",function(t){e.CHM(o);const a=e.oxw();return e.KtG(a.onPageSizeChanged(t))}),e.ALo(1,"productFilter"),e.qZA()}if(2&n){const o=e.oxw();e.Q6J("total",o.products.length)("numberPage",o.numberPage)("pageSize",o.pageSize)("currentTotal",e.gM2(1,5,o.products,o.page,o.pageSize,o.search).length)("page",o.page)}}const B=function(){return["/products/register"]},H=function(){return{"min-width":"150px"}},P=function(){return{"min-width":"120px"}},K=function(){return{width:"70px"}};let X=(()=>{class n{constructor(o,r,t,a){this.productService=o,this.loaderService=r,this.router=t,this.toastService=a,this.products=[],this.page=0,this.pageSize=5,this.numberPage=0,this.search="",this.rightPanelStyle={},this.isLoading$=this.loaderService.isLoading$,this.items=[{name:"Editar",iconName:"edit",action:this.onEdit.bind(this)},{name:"Detalles",iconName:"visibility",action:this.onDetail.bind(this)},{name:"Eliminar",iconName:"delete",action:this.onDelete.bind(this)}]}ngOnInit(){this.loadProducts()}loadProducts(){this.productService.getProducts().subscribe({next:o=>{0===o.length&&this.toastService.showToast({title:"Sin productos",description:"No se encontraron productos. Registre algunos y vuelva aqui.",severity:"info",autoClosing:!0}),this.products=o}}),this.page=0,this.numberPage=0}onNextPage(){this.page+=this.pageSize,this.numberPage++}onPrevPage(){this.page>0&&(this.page-=this.pageSize,this.numberPage--)}onSearchProduct(){this.page=0}onPageSizeChanged(o=0){o>0&&(this.pageSize=o),this.page=0,this.numberPage=0}onEdit(o){this.router.navigate([`/products/edit/${o.id}`],{state:o})}onDetail(o){this.router.navigate([`/products/detail/${o.id}`],{state:o})}onClearSearchProduct(){this.search=""}onDelete(o){const r=o.name;this.modalConfirm.title=`\xbfEstas seguro de eliminar el producto ${r}?`,this.modalConfirm.message=`El producto ${r} se eliminar\xe1 de los registros, esta acci\xf3n es irreversible.`,this.modalConfirm.onOpenModal(),this.modalConfirm.action.subscribe({next:t=>{t&&!0===t&&this.productService.deleteProduct(o.id).subscribe({next:a=>{this.toastService.showToast({title:"Producto Eliminado",description:"El producto se ha eliminado correctamente.",severity:"success",autoClosing:!0})},error:a=>{this.toastService.showToast({title:"Oops",description:"Ha ocurrido un error al eliminar el producto.",severity:"error",autoClosing:!0}),this.loadProducts()},complete:()=>{this.loadProducts()}})}})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(m.M),e.Y36(D.D),e.Y36(d.F0),e.Y36(_.k))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-dsbn-product",8,"grid"]],viewQuery:function(r,t){if(1&r&&e.Gf(R,5),2&r){let a;e.iGM(a=e.CRH())&&(t.modalConfirm=a.first)}},attrs:S,decls:34,vars:19,consts:[[1,"card","flex","flex-column","gap-3","flex"],[1,"flex","justify-content-between","align-items-center","w-100"],[1,"button-warning",3,"routerLink"],[1,"flex","align-items-center","gap-3"],[1,"icon-2xl"],["iconName","search"],["type","text","placeholder","Buscar Productos",3,"ngModel","ngModelChange","keyup"],["class","button-icon",3,"click",4,"ngIf"],[1,"table-wrapper"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["skeleton",""],[3,"total","numberPage","pageSize","currentTotal","page","nextPage","prevPage","pageSizeChanged",4,"ngIf"],["actionButtonLabel","Confirmar"],["modalConfirm",""],[1,"button-icon",3,"click"],["iconName","delete_sweep"],[4,"ngFor","ngForOf"],[4,"ngIf"],["data-label","Logo"],[3,"src","alt","ngStyle"],["data-label","Nombre del producto"],["data-label","Fecha de liberaci\xf3n",1,"text-center"],["data-label","Fecha de reestructuraci\xf3n",1,"text-center"],["data-label","Acciones"],["iconName","more_vert","orientation","horizontal",3,"items","data"],["colspan","5",1,"text-center","text-base"],["routerLink","/products/register"],[1,"loader"],["data-label","Fecha de liberaci\xf3n"],["data-label","Fecha de reestructuraci\xf3n"],[3,"total","numberPage","pageSize","currentTotal","page","nextPage","prevPage","pageSizeChanged"]],template:function(r,t){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Productos"),e.qZA(),e.TgZ(4,"button",2)(5,"span"),e._uU(6,"Agregar"),e.qZA()()(),e.TgZ(7,"div",3)(8,"span",4),e._UZ(9,"google-icon",5),e.qZA(),e.TgZ(10,"input",6),e.NdJ("ngModelChange",function(c){return t.search=c})("keyup",function(){return t.onSearchProduct()}),e.qZA(),e.YNc(11,k,2,0,"button",7),e.qZA(),e.TgZ(12,"div")(13,"div",8)(14,"table")(15,"thead")(16,"tr")(17,"th"),e._uU(18,"Logo"),e.qZA(),e.TgZ(19,"th",9),e._uU(20,"Nombre del producto"),e.qZA(),e.TgZ(21,"th",9),e._uU(22,"Fecha de liberaci\xf3n"),e.qZA(),e.TgZ(23,"th",9),e._uU(24," Fecha de reestructuraci\xf3n "),e.qZA(),e._UZ(25,"th",9),e.qZA()(),e.YNc(26,G,6,13,"tbody",10),e.ALo(27,"async"),e.YNc(28,V,1,2,"ng-template",null,11,e.W1O),e.qZA()(),e.YNc(30,$,2,10,"table-paginator",12),e.ALo(31,"async"),e.qZA()(),e._UZ(32,"modal-confirm",13,14)),2&r){const a=e.MAs(29);e.xp6(4),e.Q6J("routerLink",e.DdM(14,B)),e.xp6(6),e.Q6J("ngModel",t.search),e.xp6(1),e.Q6J("ngIf",""!==t.search.trim()),e.xp6(8),e.Q6J("ngStyle",e.DdM(15,H)),e.xp6(2),e.Q6J("ngStyle",e.DdM(16,P)),e.xp6(2),e.Q6J("ngStyle",e.DdM(17,P)),e.xp6(2),e.Q6J("ngStyle",e.DdM(18,K)),e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(27,10,t.isLoading$))("ngIfElse",a),e.xp6(4),e.Q6J("ngIf",!1===e.lcZ(31,12,t.isLoading$))}},dependencies:[s.sg,s.O5,s.PC,i.Fj,i.JJ,i.On,h.J,q,E,v,d.rH,s.Ov,s.uU,J]})}return n})();class T{constructor(l){l&&(0,Z.t7)(l,this)}toSnakeCase(){return(0,Z.O8)(this)}}let C=(()=>{class n{constructor(o){this.datePipe=o}transform(o,r="yyyy-MM-dd",t="utc"){return this.datePipe.transform(o,r,t)}convertOnlyDate(o){return this.datePipe.transform(o,"yyyy-MM-ddT00:00:00.000")??o.toDateString()}addYears(o,r=1){const t=new Date(this.convertOnlyDate(o));return t.setFullYear(t.getFullYear()+r),t}addMonths(o,r=1){const t=new Date(this.convertOnlyDate(o));return t.setMonth(t.getMonth()+r),t}addDays(o,r=1){const t=new Date(this.convertOnlyDate(o));return t.setDate(t.getDate()+r),t}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(s.uU))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const W=["class","register"];function ee(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"ID"),e.qZA(),e._uU(4," es obligatorio. "),e.qZA())}function te(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"ID"),e.qZA(),e._uU(4," debe contener un m\xednimo de 3 caracteres. "),e.qZA())}function oe(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"ID"),e.qZA(),e._uU(4," debe contener un m\xe1ximo de 10 caracteres. "),e.qZA())}function ne(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"ID"),e.qZA(),e._uU(4," es inv\xe1lido. "),e.qZA())}function re(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Nombre del producto"),e.qZA(),e._uU(4," es obligatorio. "),e.qZA())}function ie(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Nombre del producto"),e.qZA(),e._uU(4," debe contener un m\xednimo de 5. caracteres. "),e.qZA())}function ae(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Nombre del producto"),e.qZA(),e._uU(4," debe contener un m\xe1ximo de 100. caracteres. "),e.qZA())}function le(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Descripci\xf3n"),e.qZA(),e._uU(4," es obligatorio. "),e.qZA())}function ce(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Descripci\xf3n"),e.qZA(),e._uU(4," debe contener un m\xednimo de 10. "),e.qZA())}function se(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Descripci\xf3n"),e.qZA(),e._uU(4," debe contener un m\xe1ximo de 200. "),e.qZA())}function ue(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Logo"),e.qZA(),e._uU(4," es obligatorio. "),e.qZA())}function de(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Logo"),e.qZA(),e._uU(4," debe ser una url v\xe1lida. "),e.qZA())}function pe(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Fecha de liberaci\xf3n"),e.qZA(),e._uU(4," es obligatorio. "),e.qZA())}function ge(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Fecha de reestructuraci\xf3n"),e.qZA(),e._uU(4," es obligatorio. "),e.qZA())}const me=function(){return["/products"]},p=function(n){return{"input-invalid":n}};let _e=(()=>{class n{constructor(o,r,t,a,c){this.formBuilder=o,this.productService=r,this.toastService=t,this.dateFormatService=a,this.router=c,this.today=new Date}ngOnInit(){this.formGroup=this.formBuilder.group({id:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(10),i.kI.pattern(/^[a-zA-Z0-9-]*$/)]],name:["",[i.kI.required,i.kI.minLength(5),i.kI.maxLength(100)]],description:["",[i.kI.required,i.kI.minLength(10),i.kI.maxLength(200)]],logo:["",[i.kI.required,i.kI.pattern(/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i)]],dateRelease:[this.dateFormatService.transform(this.today),[i.kI.required]],dateRevision:[this.dateFormatService.transform(this.dateFormatService.addYears(this.today)),[i.kI.required]]}),this.controlDateRelease?.valueChanges.subscribe(o=>{this.controlDateRevision?.setValue(this.dateFormatService.transform(this.dateFormatService.addYears(o)))})}get controlId(){return this.formGroup.get("id")}get controlName(){return this.formGroup.get("name")}get controlDescription(){return this.formGroup.get("description")}get controlLogo(){return this.formGroup.get("logo")}get controlDateRelease(){return this.formGroup.get("dateRelease")}get controlDateRevision(){return this.formGroup.get("dateRevision")}onResetForm(){this.controlId?.setValue(""),this.controlName?.setValue(""),this.controlDescription?.setValue(""),this.controlLogo?.setValue(""),this.controlDateRelease?.setValue(this.dateFormatService.transform(this.today)),this.controlDateRevision?.setValue(this.dateFormatService.transform(this.today))}onSubmit(){if(this.formGroup.valid){const o=new T(this.formGroup.value);this.productService.verificationProduct(o.id).subscribe({next:r=>{r?this.toastService.showToast({title:"ID existente",description:"El producto que intenta registrar tiene un ID ya registrado, pruebe con otro.",severity:"warn",autoClosing:!0}):this.productService.createdProduct(o).subscribe({next:t=>{this.toastService.showToast({title:"Producto Registrado",description:"El producto se ha registrado correctamente.",severity:"success",autoClosing:!0})},error:t=>{this.toastService.showToast({title:"Oops",description:"Ha ocurrido un error al registrar el producto.",severity:"error",autoClosing:!0})},complete:()=>{this.router.navigate(["/products"])}})},error:r=>{this.toastService.showToast({title:"Oops",description:"Ha ocurrido un error al validar el producto.",severity:"error",autoClosing:!0})},complete:()=>{}})}else this.toastService.showToast({title:"Campos Incompletos o Inv\xe1lidos",description:"Debe completar los campos requeridos.",severity:"warn",autoClosing:!0}),Object.values(this.formGroup.controls).map(o=>{o.markAsTouched()})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(i.qu),e.Y36(m.M),e.Y36(_.k),e.Y36(C),e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-dsbn-product",8,"register"]],attrs:W,decls:57,vars:39,consts:[[1,"card","flex","flex-column","gap-3","flex"],[1,"flex","justify-content-between","align-items-center","w-100"],[3,"routerLink"],[3,"formGroup","submit"],[1,"grid"],[1,"field","col-12","col-sm-6"],[1,"field-label"],["placeholder","ID","formControlName","id","type","text",3,"ngClass"],[1,"field-box-error"],["class","field-error",4,"ngIf"],["placeholder","Nombre del producto","formControlName","name","type","text",3,"ngClass"],[1,"field","col-12"],["placeholder","Descripci\xf3n","formControlName","description","type","text",3,"ngClass"],["placeholder","Logo","formControlName","logo","type","url",3,"ngClass"],["placeholder","Fecha de liberaci\xf3n","formControlName","dateRelease","type","date",3,"min","ngClass"],["readonly","","placeholder","Fecha de reestructuraci\xf3n","formControlName","dateRevision","type","date",3,"ngClass"],[1,"card-footer","justify-content-end","gap-2"],["type","button",3,"click"],["type","submit",1,"button-warning"],[1,"field-error"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Registrar Producto"),e.qZA(),e.TgZ(4,"button",2)(5,"span"),e._uU(6,"Volver"),e.qZA()()(),e.TgZ(7,"form",3),e.NdJ("submit",function(){return t.onSubmit()}),e.TgZ(8,"div",4)(9,"div",5)(10,"label",6),e._uU(11,"ID (*)"),e.qZA(),e._UZ(12,"input",7),e.TgZ(13,"div",8),e.YNc(14,ee,5,0,"span",9),e.YNc(15,te,5,0,"span",9),e.YNc(16,oe,5,0,"span",9),e.YNc(17,ne,5,0,"span",9),e.qZA()(),e.TgZ(18,"div",5)(19,"label",6),e._uU(20,"Nombre del producto (*)"),e.qZA(),e._UZ(21,"input",10),e.TgZ(22,"div",8),e.YNc(23,re,5,0,"span",9),e.YNc(24,ie,5,0,"span",9),e.YNc(25,ae,5,0,"span",9),e.qZA()(),e.TgZ(26,"div",11)(27,"label",6),e._uU(28,"Descripci\xf3n (*)"),e.qZA(),e._UZ(29,"input",12),e.TgZ(30,"div",8),e.YNc(31,le,5,0,"span",9),e.YNc(32,ce,5,0,"span",9),e.YNc(33,se,5,0,"span",9),e.qZA()(),e.TgZ(34,"div",11)(35,"label",6),e._uU(36,"Logo (*)"),e.qZA(),e._UZ(37,"input",13),e.TgZ(38,"div",8),e.YNc(39,ue,5,0,"span",9),e.YNc(40,de,5,0,"span",9),e.qZA()(),e.TgZ(41,"div",5)(42,"label",6),e._uU(43,"Fecha de liberaci\xf3n (*)"),e.qZA(),e._UZ(44,"input",14),e.ALo(45,"date"),e.YNc(46,pe,5,0,"span",9),e.qZA(),e.TgZ(47,"div",5)(48,"label",6),e._uU(49,"Fecha de reestructuraci\xf3n (*)"),e.qZA(),e._UZ(50,"input",15),e.YNc(51,ge,5,0,"span",9),e.qZA()(),e.TgZ(52,"div",16)(53,"button",17),e.NdJ("click",function(){return t.onResetForm()}),e._uU(54,"Reiniciar"),e.qZA(),e.TgZ(55,"button",18),e._uU(56,"Registrar"),e.qZA()()()()),2&r&&(e.xp6(4),e.Q6J("routerLink",e.DdM(26,me)),e.xp6(3),e.Q6J("formGroup",t.formGroup),e.xp6(5),e.Q6J("ngClass",e.VKq(27,p,((null==t.controlId?null:t.controlId.hasError("required"))||(null==t.controlId?null:t.controlId.hasError("minlength"))||(null==t.controlId?null:t.controlId.hasError("maxlength"))||(null==t.controlId?null:t.controlId.hasError("pattern")))&&(null==t.controlId?null:t.controlId.touched))),e.xp6(2),e.Q6J("ngIf",(null==t.controlId?null:t.controlId.hasError("required"))&&(null==t.controlId?null:t.controlId.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlId?null:t.controlId.hasError("minlength"))&&(null==t.controlId?null:t.controlId.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlId?null:t.controlId.hasError("maxlength"))&&(null==t.controlId?null:t.controlId.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlId?null:t.controlId.hasError("pattern"))&&(null==t.controlId?null:t.controlId.touched)),e.xp6(4),e.Q6J("ngClass",e.VKq(29,p,((null==t.controlName?null:t.controlName.hasError("required"))||(null==t.controlName?null:t.controlName.hasError("minlength"))||(null==t.controlName?null:t.controlName.hasError("maxlength")))&&(null==t.controlName?null:t.controlName.touched))),e.xp6(2),e.Q6J("ngIf",(null==t.controlName?null:t.controlName.hasError("required"))&&(null==t.controlName?null:t.controlName.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlName?null:t.controlName.hasError("minlength"))&&(null==t.controlName?null:t.controlName.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlName?null:t.controlName.hasError("maxlength"))&&(null==t.controlName?null:t.controlName.touched)),e.xp6(4),e.Q6J("ngClass",e.VKq(31,p,((null==t.controlDescription?null:t.controlDescription.hasError("required"))||(null==t.controlDescription?null:t.controlDescription.hasError("minlength"))||(null==t.controlDescription?null:t.controlDescription.hasError("maxlength")))&&(null==t.controlDescription?null:t.controlDescription.touched))),e.xp6(2),e.Q6J("ngIf",(null==t.controlDescription?null:t.controlDescription.hasError("required"))&&(null==t.controlDescription?null:t.controlDescription.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlDescription?null:t.controlDescription.hasError("minlength"))&&(null==t.controlDescription?null:t.controlDescription.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlDescription?null:t.controlDescription.hasError("maxlength"))&&(null==t.controlDescription?null:t.controlDescription.touched)),e.xp6(4),e.Q6J("ngClass",e.VKq(33,p,((null==t.controlLogo?null:t.controlLogo.hasError("required"))||(null==t.controlLogo?null:t.controlLogo.hasError("pattern")))&&(null==t.controlLogo?null:t.controlLogo.touched))),e.xp6(2),e.Q6J("ngIf",(null==t.controlLogo?null:t.controlLogo.hasError("required"))&&(null==t.controlLogo?null:t.controlLogo.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlLogo?null:t.controlLogo.hasError("pattern"))&&(null==t.controlLogo?null:t.controlLogo.touched)),e.xp6(4),e.Q6J("min",e.xi3(45,23,t.today,"yyyy-MM-dd"))("ngClass",e.VKq(35,p,(null==t.controlDateRelease?null:t.controlDateRelease.hasError("required"))&&(null==t.controlDateRelease?null:t.controlDateRelease.touched))),e.xp6(2),e.Q6J("ngIf",(null==t.controlDateRelease?null:t.controlDateRelease.hasError("required"))&&(null==t.controlDateRelease?null:t.controlDateRelease.touched)),e.xp6(4),e.Q6J("ngClass",e.VKq(37,p,(null==t.controlDateRevision?null:t.controlDateRevision.hasError("required"))&&(null==t.controlDateRevision?null:t.controlDateRevision.touched))),e.xp6(1),e.Q6J("ngIf",(null==t.controlDateRevision?null:t.controlDateRevision.hasError("required"))&&(null==t.controlDateRevision?null:t.controlDateRevision.touched)))},dependencies:[s.mk,s.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,d.rH,s.uU]})}return n})();const he=["class","edit"];function fe(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Nombre del producto"),e.qZA(),e._uU(4," es obligatorio. "),e.qZA())}function Ze(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Nombre del producto"),e.qZA(),e._uU(4," debe contener un m\xednimo de 5. caracteres. "),e.qZA())}function Ce(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Nombre del producto"),e.qZA(),e._uU(4," debe contener un m\xe1ximo de 100. caracteres. "),e.qZA())}function be(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Descripci\xf3n"),e.qZA(),e._uU(4," es obligatorio. "),e.qZA())}function ve(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Descripci\xf3n"),e.qZA(),e._uU(4," debe contener un m\xednimo de 10. "),e.qZA())}function Pe(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Descripci\xf3n"),e.qZA(),e._uU(4," debe contener un m\xe1ximo de 200. "),e.qZA())}function Te(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Logo"),e.qZA(),e._uU(4," es obligatorio. "),e.qZA())}function De(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Logo"),e.qZA(),e._uU(4," debe ser una url v\xe1lida. "),e.qZA())}function qe(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Fecha de liberaci\xf3n"),e.qZA(),e._uU(4," es obligatorio. "),e.qZA())}function Me(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," El campo "),e.TgZ(2,"b"),e._uU(3,"Fecha de reestructuraci\xf3n"),e.qZA(),e._uU(4," es obligatorio. "),e.qZA())}const ye=function(){return["/products"]},g=function(n){return{"input-invalid":n}};let we=(()=>{class n{constructor(o,r,t,a,c){this.formBuilder=o,this.productService=r,this.toastService=t,this.dateFormatService=a,this.router=c,this.today=new Date}ngOnInit(){const o=history.state;this.formGroup=this.formBuilder.group({id:[o?.id??"",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(10),i.kI.pattern(/^[a-zA-Z0-9-]*$/)]],name:[o?.name??"",[i.kI.required,i.kI.minLength(5),i.kI.maxLength(100)]],description:[o?.description??"",[i.kI.required,i.kI.minLength(10),i.kI.maxLength(200)]],logo:[o?.logo??"",[i.kI.required,i.kI.pattern(/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i)]],dateRelease:[this.dateFormatService.transform(o?.dateRelease?o.dateRelease:this.today),[i.kI.required]],dateRevision:[this.dateFormatService.transform(o?.dateRevision?o.dateRevision:this.today),[i.kI.required]]}),this.controlDateRelease?.valueChanges.subscribe(r=>{this.controlDateRevision?.setValue(this.dateFormatService.transform(this.dateFormatService.addYears(r)))})}get controlId(){return this.formGroup.get("id")}get controlName(){return this.formGroup.get("name")}get controlDescription(){return this.formGroup.get("description")}get controlLogo(){return this.formGroup.get("logo")}get controlDateRelease(){return this.formGroup.get("dateRelease")}get controlDateRevision(){return this.formGroup.get("dateRevision")}onResetForm(){const o=history.state;this.controlId?.setValue(o?.id??""),this.controlName?.setValue(o?.name??""),this.controlDescription?.setValue(o?.description??""),this.controlLogo?.setValue(o?.logo??""),this.controlDateRelease?.setValue(this.dateFormatService.transform(o?.dateRelease?o.dateRelease:this.today)),this.controlDateRevision?.setValue(this.dateFormatService.transform(o?.dateRevision?o.dateRevision:this.today))}onSubmit(){if(this.formGroup.valid){const o=new T(this.formGroup.value);this.productService.editProduct(o).subscribe({next:r=>{this.toastService.showToast({title:"Producto Editado",description:"El producto se ha editado correctamente.",severity:"success",autoClosing:!0})},error:r=>{this.toastService.showToast({title:"Oops",description:"Ha ocurrido un error al editar el producto.",severity:"error",autoClosing:!0})},complete:()=>{this.router.navigate(["/products"])}})}else this.toastService.showToast({title:"Campos Incompletos o Inv\xe1lidos",description:"Debe completar los campos requeridos.",severity:"warn",autoClosing:!0}),Object.values(this.formGroup.controls).map(o=>{o.markAsTouched()})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(i.qu),e.Y36(m.M),e.Y36(_.k),e.Y36(C),e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-dsbn-product",8,"edit"]],attrs:he,decls:52,vars:32,consts:[[1,"card","flex","flex-column","gap-3","flex"],[1,"flex","justify-content-between","align-items-center","w-100"],[3,"routerLink"],[3,"formGroup","submit"],[1,"grid"],[1,"field","col-12","col-sm-6"],[1,"field-label"],["placeholder","ID","formControlName","id","type","text","readonly",""],["placeholder","Nombre del producto","formControlName","name","type","text",3,"ngClass"],[1,"field-box-error"],["class","field-error",4,"ngIf"],[1,"field","col-12"],["placeholder","Descripci\xf3n","formControlName","description","type","text",3,"ngClass"],["placeholder","Logo","formControlName","logo","type","url",3,"ngClass"],["placeholder","Fecha de liberaci\xf3n","formControlName","dateRelease","type","date",3,"min","ngClass"],["readonly","","placeholder","Fecha de reestructuraci\xf3n","formControlName","dateRevision","type","date",3,"ngClass"],[1,"card-footer","justify-content-end","gap-2"],["type","button",3,"click"],["type","submit",1,"button-warning"],[1,"field-error"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Editar Producto"),e.qZA(),e.TgZ(4,"button",2)(5,"span"),e._uU(6,"Volver"),e.qZA()()(),e.TgZ(7,"form",3),e.NdJ("submit",function(){return t.onSubmit()}),e.TgZ(8,"div",4)(9,"div",5)(10,"label",6),e._uU(11,"ID (*)"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",5)(14,"label",6),e._uU(15,"Nombre del producto (*)"),e.qZA(),e._UZ(16,"input",8),e.TgZ(17,"div",9),e.YNc(18,fe,5,0,"span",10),e.YNc(19,Ze,5,0,"span",10),e.YNc(20,Ce,5,0,"span",10),e.qZA()(),e.TgZ(21,"div",11)(22,"label",6),e._uU(23,"Descripci\xf3n (*)"),e.qZA(),e._UZ(24,"input",12),e.TgZ(25,"div",9),e.YNc(26,be,5,0,"span",10),e.YNc(27,ve,5,0,"span",10),e.YNc(28,Pe,5,0,"span",10),e.qZA()(),e.TgZ(29,"div",11)(30,"label",6),e._uU(31,"Logo (*)"),e.qZA(),e._UZ(32,"input",13),e.TgZ(33,"div",9),e.YNc(34,Te,5,0,"span",10),e.YNc(35,De,5,0,"span",10),e.qZA()(),e.TgZ(36,"div",5)(37,"label",6),e._uU(38,"Fecha de liberaci\xf3n (*)"),e.qZA(),e._UZ(39,"input",14),e.ALo(40,"date"),e.YNc(41,qe,5,0,"span",10),e.qZA(),e.TgZ(42,"div",5)(43,"label",6),e._uU(44,"Fecha de reestructuraci\xf3n (*)"),e.qZA(),e._UZ(45,"input",15),e.YNc(46,Me,5,0,"span",10),e.qZA()(),e.TgZ(47,"div",16)(48,"button",17),e.NdJ("click",function(){return t.onResetForm()}),e._uU(49,"Reiniciar"),e.qZA(),e.TgZ(50,"button",18),e._uU(51,"Editar"),e.qZA()()()()),2&r&&(e.xp6(4),e.Q6J("routerLink",e.DdM(21,ye)),e.xp6(3),e.Q6J("formGroup",t.formGroup),e.xp6(9),e.Q6J("ngClass",e.VKq(22,g,((null==t.controlName?null:t.controlName.hasError("required"))||(null==t.controlName?null:t.controlName.hasError("minlength"))||(null==t.controlName?null:t.controlName.hasError("maxlength")))&&(null==t.controlName?null:t.controlName.touched))),e.xp6(2),e.Q6J("ngIf",(null==t.controlName?null:t.controlName.hasError("required"))&&(null==t.controlName?null:t.controlName.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlName?null:t.controlName.hasError("minlength"))&&(null==t.controlName?null:t.controlName.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlName?null:t.controlName.hasError("maxlength"))&&(null==t.controlName?null:t.controlName.touched)),e.xp6(4),e.Q6J("ngClass",e.VKq(24,g,((null==t.controlDescription?null:t.controlDescription.hasError("required"))||(null==t.controlDescription?null:t.controlDescription.hasError("minlength"))||(null==t.controlDescription?null:t.controlDescription.hasError("maxlength")))&&(null==t.controlDescription?null:t.controlDescription.touched))),e.xp6(2),e.Q6J("ngIf",(null==t.controlDescription?null:t.controlDescription.hasError("required"))&&(null==t.controlDescription?null:t.controlDescription.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlDescription?null:t.controlDescription.hasError("minlength"))&&(null==t.controlDescription?null:t.controlDescription.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlDescription?null:t.controlDescription.hasError("maxlength"))&&(null==t.controlDescription?null:t.controlDescription.touched)),e.xp6(4),e.Q6J("ngClass",e.VKq(26,g,(null==t.controlLogo?null:t.controlLogo.hasError("required"))&&(null==t.controlLogo?null:t.controlLogo.touched))),e.xp6(2),e.Q6J("ngIf",(null==t.controlLogo?null:t.controlLogo.hasError("required"))&&(null==t.controlLogo?null:t.controlLogo.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.controlLogo?null:t.controlLogo.hasError("pattern"))&&(null==t.controlLogo?null:t.controlLogo.touched)),e.xp6(4),e.Q6J("min",e.xi3(40,18,t.today,"yyyy-MM-dd"))("ngClass",e.VKq(28,g,(null==t.controlDateRelease?null:t.controlDateRelease.hasError("required"))&&(null==t.controlDateRelease?null:t.controlDateRelease.touched))),e.xp6(2),e.Q6J("ngIf",(null==t.controlDateRelease?null:t.controlDateRelease.hasError("required"))&&(null==t.controlDateRelease?null:t.controlDateRelease.touched)),e.xp6(4),e.Q6J("ngClass",e.VKq(30,g,(null==t.controlDateRevision?null:t.controlDateRevision.hasError("required"))&&(null==t.controlDateRevision?null:t.controlDateRevision.touched))),e.xp6(1),e.Q6J("ngIf",(null==t.controlDateRevision?null:t.controlDateRevision.hasError("required"))&&(null==t.controlDateRevision?null:t.controlDateRevision.touched)))},dependencies:[s.mk,s.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,d.rH,s.uU]})}return n})();const Ae=["modalConfirm"],Ne=["class","detail"],Ue=function(){return["/products"]};let Ie=(()=>{class n{constructor(o,r,t,a){this.productService=o,this.toastService=r,this.dateFormatService=t,this.router=a,this.today=new Date}ngOnInit(){const o=history.state;this.currentProduct={...o,dateRelease:this.dateFormatService.transform(o?.dateRelease??this.today),dateRevision:this.dateFormatService.transform(o?.dateRevision??this.today)}}onEdit(){this.router.navigate([`/products/edit/${this.currentProduct.id}`],{state:this.currentProduct})}onDelete(){const o=this.currentProduct.name;this.modalConfirm.title=`\xbfEstas seguro de eliminar el producto ${o}?`,this.modalConfirm.message=`El producto ${o} se eliminar\xe1 de los registros, esta acci\xf3n es irreversible.`,this.modalConfirm.onOpenModal(),this.modalConfirm.action.subscribe({next:r=>{r&&!0===r&&this.productService.deleteProduct(this.currentProduct.id).subscribe({next:t=>{this.toastService.showToast({title:"Producto Eliminado",description:"El producto se ha eliminado correctamente.",severity:"success",autoClosing:!0})},error:t=>{this.toastService.showToast({title:"Oops",description:"Ha ocurrido un error al eliminar el producto.",severity:"error",autoClosing:!0}),this.router.navigate(["/products"])},complete:()=>{this.router.navigate(["/products"])}})}})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(m.M),e.Y36(_.k),e.Y36(C),e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-dsbn-product",8,"detail"]],viewQuery:function(r,t){if(1&r&&e.Gf(Ae,5),2&r){let a;e.iGM(a=e.CRH())&&(t.modalConfirm=a.first)}},attrs:Ne,decls:41,vars:9,consts:[[1,"card","flex","flex-column","gap-3","flex"],[1,"flex","justify-content-between","align-items-center","w-100"],[3,"routerLink"],[1,"grid"],[1,"field","col-12","col-sm-6"],[1,"field-label"],["placeholder","ID","type","text","readonly","",3,"ngModel","ngModelChange"],["placeholder","Nombre del producto","type","text","readonly","",3,"ngModel","ngModelChange"],[1,"field","col-12"],["placeholder","Descripci\xf3n","type","text","readonly","",3,"ngModel","ngModelChange"],["placeholder","Logo","type","url","readonly","",3,"ngModel","ngModelChange"],[1,"field-image"],[3,"src"],["placeholder","Fecha de liberaci\xf3n","type","date","readonly","",3,"ngModel","ngModelChange"],["placeholder","Fecha de reestructuraci\xf3n","type","date","readonly","",3,"ngModel","ngModelChange"],[1,"card-footer","justify-content-between","gap-2"],["type","button",3,"click"],["type","button",1,"button-warning",3,"click"],["actionButtonLabel","Confirmar"],["modalConfirm",""]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Detalles de Producto"),e.qZA(),e.TgZ(4,"button",2)(5,"span"),e._uU(6,"Volver"),e.qZA()()(),e.TgZ(7,"div",3)(8,"div",4)(9,"label",5),e._uU(10,"Identificador"),e.qZA(),e.TgZ(11,"input",6),e.NdJ("ngModelChange",function(c){return t.currentProduct.id=c}),e.qZA()(),e.TgZ(12,"div",4)(13,"label",5),e._uU(14,"Nombre del producto"),e.qZA(),e.TgZ(15,"input",7),e.NdJ("ngModelChange",function(c){return t.currentProduct.name=c}),e.qZA()(),e.TgZ(16,"div",8)(17,"label",5),e._uU(18,"Descripci\xf3n"),e.qZA(),e.TgZ(19,"input",9),e.NdJ("ngModelChange",function(c){return t.currentProduct.description=c}),e.qZA()(),e.TgZ(20,"div",8)(21,"label",5),e._uU(22,"Logo"),e.qZA(),e.TgZ(23,"input",10),e.NdJ("ngModelChange",function(c){return t.currentProduct.logo=c}),e.qZA(),e.TgZ(24,"div",11),e._UZ(25,"img",12),e.qZA()(),e.TgZ(26,"div",4)(27,"label",5),e._uU(28,"Fecha de liberaci\xf3n"),e.qZA(),e.TgZ(29,"input",13),e.NdJ("ngModelChange",function(c){return t.currentProduct.dateRelease=c}),e.qZA()(),e.TgZ(30,"div",4)(31,"label",5),e._uU(32,"Fecha de reestructuraci\xf3n"),e.qZA(),e.TgZ(33,"input",14),e.NdJ("ngModelChange",function(c){return t.currentProduct.dateRevision=c}),e.qZA()()(),e.TgZ(34,"div",15)(35,"button",16),e.NdJ("click",function(){return t.onDelete()}),e._uU(36,"Eliminar"),e.qZA(),e.TgZ(37,"button",17),e.NdJ("click",function(){return t.onEdit()}),e._uU(38," Editar "),e.qZA()()(),e._UZ(39,"modal-confirm",18,19)),2&r&&(e.xp6(4),e.Q6J("routerLink",e.DdM(8,Ue)),e.xp6(7),e.Q6J("ngModel",t.currentProduct.id),e.xp6(4),e.Q6J("ngModel",t.currentProduct.name),e.xp6(4),e.Q6J("ngModel",t.currentProduct.description),e.xp6(4),e.Q6J("ngModel",t.currentProduct.logo),e.xp6(2),e.Q6J("src",t.currentProduct.logo,e.LSH),e.xp6(4),e.Q6J("ngModel",t.currentProduct.dateRelease),e.xp6(4),e.Q6J("ngModel",t.currentProduct.dateRevision))},dependencies:[i.Fj,i.JJ,i.On,v,d.rH]})}return n})(),Ee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[d.Bz.forChild([{path:"",component:X},{path:"register",component:_e},{path:"edit/:id",component:we},{path:"detail/:id",component:Ie}]),d.Bz]})}return n})();var f=u(422);let Oe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[s.ez,i.u5,f.c]})}return n})(),Fe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[s.ez,d.Bz,f.c]})}return n})(),Je=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[s.ez,f.c]})}return n})(),Re=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[s.ez,i.u5,i.UX,f.c,Oe,Fe,Je,Ee]})}return n})()}}]);